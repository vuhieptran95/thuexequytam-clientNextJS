(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{28:function(e,a,t){"use strict";var n=t(0),c=t.n(n),l=t(3),r=t.n(l),i=t(15),d=t(30),s=Object(i.withRouter)(function(e){var a=e.router.route;return c.a.createElement(d.a,null,c.a.createElement("ul",{className:"nav nav-pills margin-top-30"},c.a.createElement("li",{className:"nav-item"},c.a.createElement(r.a,{prefetch:!0,href:"/admin/manage-cars/add-new-car"},c.a.createElement("a",{className:"nav-link ".concat(a.includes("/admin/manage-cars/add-new-car")?"active":"")},"Thêm xe mới"))),c.a.createElement("li",{className:"nav-item"},c.a.createElement(r.a,{prefetch:!0,href:"/admin/manage-cars/edit-delete-car"},c.a.createElement("a",{className:"nav-link ".concat(a.includes("/admin/manage-cars/edit-delete-car")?"active":"")},"Chỉnh sửa xe"))),c.a.createElement("li",{className:"nav-item"},c.a.createElement(r.a,{prefetch:!0,href:"/admin/manage-cars/edit-types"},c.a.createElement("a",{className:"nav-link ".concat(a.includes("/admin/manage-cars/edit-types")?"active":"")},"Thay đổi loại xe"))),c.a.createElement("li",{className:"nav-item"},c.a.createElement(r.a,{prefetch:!0,href:"/admin/manage-cars/edit-brands"},c.a.createElement("a",{className:"nav-link ".concat(a.includes("/admin/manage-cars/edit-brands")?"active":"")},"Thay đổi hãng xe")))),c.a.createElement("div",{className:"mt-4"},e.children))});a.a=s},368:function(e,a,t){__NEXT_REGISTER_PAGE("/admin/manage-cars/edit-types",function(){return e.exports=t(381),{page:e.exports.default}})},381:function(e,a,t){"use strict";t.r(a);var n=t(0),c=t.n(n),l=t(28),r=t(1),i=t(6),d=t.n(i),s=t(4),o=function(e,a){var t=e.filter(function(e){return null!=e});return t.includes(a)?t=t.filter(function(e){return e!=a}):t.push(a),t},u=t(2),m=t.n(u);function p(e,a,t){return a in e?Object.defineProperty(e,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[a]=t,e}function v(e,a,t,n,c,l,r){try{var i=e[l](r),d=i.value}catch(e){return void t(e)}i.done?a(d):Promise.resolve(d).then(n,c)}var f=Object(r.e)("editTypes","updateEditTypes",[]),y=Object(r.e)("deletedType","updateDeletedType",""),b=Object(r.e)("editedTypes","updateEditedTypes",[]),E=Object(r.e)("addNewTypes","updateAddNewTypes",[]),h=Object(r.d)({handleSaveType:function(e){return function(){var a,t=(a=d.a.mark(function a(t){var n,c,l,r;return d.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(n=t.target.value,c=document.getElementById(n).value,!window.confirm("Muốn sửa thật không?")){a.next=9;break}return a.next=5,s.a.collection("types").doc(n).update({name:c});case 5:l=c,document.getElementById(n+"disabled").value=l,r=o(e.editedTypes,n),e.updateEditedTypes(r);case 9:case"end":return a.stop()}},a,this)}),function(){var e=this,t=arguments;return new Promise(function(n,c){var l=a.apply(e,t);function r(e){v(l,n,c,r,i,"next",e)}function i(e){v(l,n,c,r,i,"throw",e)}r(void 0)})});return function(e){return t.apply(this,arguments)}}()},handleDeleteType:function(e){return function(e){var a=e.target.value;e.preventDefault(),window.confirm("Muốn xóa thật không?")&&s.a.collection("types").doc(a).delete()}},handleCreateNewType:function(e){return function(a){var t=a.target.value,n=e.addNewTypes.find(function(e){return e.id==t}),c=document.getElementById(t).value,l=c+Date.now();s.a.collection("types").doc(l).set({id:l,name:c,order:m.a.TypeOrder});var r=o(e.addNewTypes,n);e.updateAddNewTypes(r)}},handleSelectEditedType:function(e){return function(a){var t=o(e.editedTypes,a.target.value);e.updateEditedTypes(t)}},handleAddNewType:function(e){return function(a){var t={id:Date.now(),name:"Tên loại xe mới"},n=e.addNewTypes.filter(function(e){return null!=e});n.push(t),e.updateAddNewTypes(n)}},handleCancleAddNewType:function(e){return function(a){var t=e.addNewTypes.filter(function(e){return e.id!=a.target.value});e.updateAddNewTypes(t)}}}),N=Object(r.b)({componentDidMount:function(){var e=this;s.a.collection("types").onSnapshot(function(a){var t=[];a.forEach(function(e){t.push(function(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{},n=Object.keys(t);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(t).filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.forEach(function(a){p(e,a,t[a])})}return e}({id:e.id},e.data()))}),e.props.updateEditTypes(t)})}}),T=Object(r.a)(f,b,y,E,h,N);a.default=T(function(e){var a=e.editTypes,t=e.editedTypes,n=(e.deletedType,e.addNewTypes),r=e.handleSelectEditedType,i=e.handleSaveType,d=e.handleAddNewType,s=e.handleCancleAddNewType,o=e.handleCreateNewType,u=e.handleDeleteType;return c.a.createElement(l.a,null,c.a.createElement("div",{className:"container"},c.a.createElement("div",{className:"row"},c.a.createElement("h3",null,"This is Edit type page")),c.a.createElement("div",{className:"row mb-4"},c.a.createElement("div",{className:"col-lg-2"},c.a.createElement("button",{onClick:d,className:"btn btn-success btn-block"},"Thêm mới"))),a.map(function(e){return c.a.createElement("div",{key:e.id},c.a.createElement("div",{hidden:t.includes(e.id),className:"row mb-4"},c.a.createElement("div",{className:"col-lg-1 col-3"},c.a.createElement("button",{onClick:u,value:e.id,className:"btn btn-danger btn-block"},"Xóa")),c.a.createElement("div",{className:"col-lg-3 col-6"},c.a.createElement("input",{disabled:!0,type:"text",id:e.id+"disabled",className:"form-control",defaultValue:e.name,name:e.id})),c.a.createElement("div",{className:"col-lg-1 col-3"},c.a.createElement("button",{onClick:r,value:e.id,className:"btn btn-warning btn-block"},"Sửa"))),c.a.createElement("div",{hidden:!t.includes(e.id.toString()),className:"row mb-4"},c.a.createElement("div",{className:"col-lg-1 col-3"},c.a.createElement("button",{onClick:r,value:e.id,className:"btn btn-secondary btn-block"},"X")),c.a.createElement("div",{className:"col-lg-3 col-6"},c.a.createElement("input",{type:"text",className:"form-control",defaultValue:e.name,id:e.id})),c.a.createElement("div",{className:"col-lg-1 col-3"},c.a.createElement("button",{onClick:i,value:e.id,className:"btn btn-success btn-block"},"Lưu"))))}),n.map(function(e){return c.a.createElement("div",{key:e.id},c.a.createElement("div",{className:"row mb-4"},c.a.createElement("div",{className:"col-lg-1 col-3"},c.a.createElement("button",{onClick:s,value:e.id,className:"btn btn-secondary btn-block"},"X")),c.a.createElement("div",{className:"col-lg-3 col-6"},c.a.createElement("input",{type:"text",id:e.id,className:"form-control",defaultValue:e.name,name:e.id})),c.a.createElement("div",{className:"col-lg-1 col-3"},c.a.createElement("button",{onClick:o,value:e.id,className:"btn btn-success btn-block"},"Thêm"))))})))})}},[[368,1,0,2]]]);